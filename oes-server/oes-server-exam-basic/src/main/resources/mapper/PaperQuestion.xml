<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.4//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.oes.server.exam.basic.mapper.PaperQuestionMapper">

  <resultMap id="baseMap" type="com.oes.common.core.exam.entity.PaperQuestion">
    <result column="paper_id" property="paperId"/>
    <result column="question_id" property="questionId"/>
    <result column="question_name" property="questionName"/>
    <result column="type_id" property="typeId"/>
    <result column="option_a" property="optionA"/>
    <result column="option_b" property="optionB"/>
    <result column="option_c" property="optionC"/>
    <result column="option_d" property="optionD"/>
    <result column="option_e" property="optionE"/>
    <result column="option_f" property="optionF"/>
  </resultMap>

  <sql id="baseSql">
    select tpq.paper_id,
           tpq.question_id,
           tq.question_id,
           question_name,
           tq.option_a,
           tq.option_b,
           tq.option_c,
           tq.option_d,
           tq.option_e,
           tq.option_f,
           tq.type_id,
           tq.analysis,
           tq.right_key
    from t_paper_question tpq
           left join t_question tq on tpq.question_id = tq.question_id
    where 1 = 1
  </sql>

  <sql id="baseSql2">
    select tpq.paper_id,
           tpq.question_id,
           tq.question_id,
           question_name,
           tq.option_a,
           tq.option_b,
           tq.option_c,
           tq.option_d,
           tq.option_e,
           tq.option_f,
           tq.type_id
    from t_paper_question tpq
           left join t_question tq on tpq.question_id = tq.question_id
    where 1 = 1
  </sql>

  <select id="selectListByPaperId" parameterType="long" resultMap="baseMap">
    <include refid="baseSql"/>
    and tpq.paper_id = #{paperId,jdbcType=BIGINT}
  </select>

  <select id="selectBaseListByPaperId" parameterType="long" resultMap="baseMap">
    <include refid="baseSql2"/>
    and tpq.paper_id = #{paperId,jdbcType=BIGINT}
  </select>

</mapper>